USE checkito;

CREATE TABLE IF NOT EXISTS distro (
    id INT AUTO_INCREMENT PRIMARY KEY,
    a INT,
    b BOOLEAN,
    c INT,
    d VARCHAR(255)
) ENGINE=InnoDB;

-- insert 1000000000 rows with random values
INSERT INTO distro (a, b, c, d)
SELECT
  FLOOR(RAND() * 1000000),
  1,
  FLOOR(RAND() * 1000000),
  SUBSTRING(MD5(RAND()), 1, 10)
FROM
  (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
         UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) a,
  (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
         UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) b,
  (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
         UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) c,
  (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
         UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) d,
  (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
         UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) e;


-- insert specific data
INSERT INTO distro (a, b, c, d) VALUES
(123456, 0, 654321, '56e6172e77'),
(654321, 0, 123456, 'a1b2c3d4e5'),
(654321, 0, 654321, 'f6g7h8i9j0'),
(654321, 0, 111111, 'k1l2m3n4o5'),
(654321, 0, 222222, 'p6q7r8s9t0'),
(654321, 0, 333333, 'u1v2w3x4y5'),
(111111, 0, 444444, 'z6a7b8c9d0');

-- creating indexes after data insertion
CREATE INDEX idx_a ON distro(a);
CREATE INDEX idx_b ON distro(b);